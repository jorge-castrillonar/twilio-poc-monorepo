{
  "customers": [
    {
      "name": {
        "firstName": {
          "id": "MapParser",
          "type": "data",
          "value": "FIRST_NAME"
        },
        "middleName": {
          "id": "MapParser",
          "type": "data",
          "value": "MIDDLE_NAME"
        },
        "lastName": {
          "id": "MapParser",
          "type": "data",
          "value": "LAST_NAME"
        }
      },
      "dateOfBirth": {
        "year": {
          "id": "MapParser",
          "type": "expression",
          "value": "function process(data) { if(data['DATE_OF_BIRTH'] && data['DATE_OF_BIRTH'].length === 8){ return parseInt(data['DATE_OF_BIRTH'].substring(0, 4)).toString(); } return ''; }",
          "dataType": "number"
        },
        "month": {
          "id": "MapParser",
          "type": "expression",
          "value": "function process(data) { if(data['DATE_OF_BIRTH'] && data['DATE_OF_BIRTH'].length === 8){ return parseInt(data['DATE_OF_BIRTH'].substring(4, 6)).toString(); } return ''; }",
          "dataType": "number"
        },
        "day": {
          "id": "MapParser",
          "type": "expression",
          "value": "function process(data) { if(data['DATE_OF_BIRTH'] && data['DATE_OF_BIRTH'].length === 8){ return parseInt(data['DATE_OF_BIRTH'].substring(6, 8)).toString(); } return ''; }",
          "dataType": "number"
        }
      },
      "businesses": [
        {
          "name": {
            "id": "MapParser",
            "type": "data",
            "value": "BUSINESS_NAME"
          },
          "url": {
            "id": "MapParser",
            "type": "data",
            "value": "BUSINESS_URL"
          }
        }
      ],
      "addresses": [
        {
          "streetLine1": {
            "id": "MapParser",
            "type": "data",
            "value": "ADDRESS_1"
          },
          "streetLine2": {
            "id": "MapParser",
            "type": "data",
            "value": "ADDRESS_2"
          },
          "city": {
            "id": "MapParser",
            "type": "data",
            "value": "CITY"
          },
          "state": {
            "id": "MapParser",
            "type": "data",
            "value": "STATE"
          },
          "zipcode": {
            "id": "MapParser",
            "type": "data",
            "value": "ZIPCODE"
          },
          "countryCode": {
            "id": "MapParser",
            "type": "static",
            "value": "US"
          },
          "types": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['ADDRESS_TYPE']) return [data['ADDRESS_TYPE']]; else return ['HOME']; }"
          }
        }
      ],
      "phones": [
        {
          "phoneNumber": {
            "id": "MapParser",
            "type": "data",
            "value": "PHONE"
          },
          "types": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['PHONE_TYPE']) return [data['PHONE_TYPE']]; else return ['CELL']; }"
          }
        }
      ],
      "emails": [
        {
          "email": {
            "id": "MapParser",
            "type": "data",
            "value": "EMAIL"
          },
          "types": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['EMAIL_TYPE']) return [data['EMAIL_TYPE']]; else return ['HOME']; }"
          }
        }
      ],
      "comments": [
        {
          "id": "MapParser",
          "type": "data",
          "value": "COMMENTS"
        }
      ],
      "reference": {
        "id": "MapParser",
        "type": "data",
        "value": "CUSTOMER_REFERENCE_ID"
      },
      "ssn": {
        "id": "MapParser",
        "type": "expression",
        "value": "function process(data) { if (data['SSN']) { return data['SSN'].replace(/[^0-9]/g, ''); } return ''; }"
      },
      "debts": [
        {
          "biller": {
            "id": "MapParser",
            "type": "data",
            "value": "BILLER_NAME"
          },
          "product": {
            "id": "MapParser",
            "type": "data",
            "value": "PRODUCT_DESCRIPTION"
          },
          "initialPrincipal": {
            "amount": {
              "id": "MapParser",
              "type": "data",
              "value": "INITIAL_PRINCIPAL",
              "dataType": "amount"
            },
            "currency": {
              "id": "MapParser",
              "type": "static",
              "value": "USD"
            }
          },
          "initialInterest": {
            "amount": {
              "id": "MapParser",
              "type": "data",
              "value": "INITIAL_INTEREST",
              "dataType": "amount"
            },
            "currency": {
              "id": "MapParser",
              "type": "static",
              "value": "USD"
            }
          },
          "initialFees": {
            "amount": {
              "id": "MapParser",
              "type": "data",
              "value": "INITIAL_FEES",
              "dataType": "amount"
            },
            "currency": {
              "id": "MapParser",
              "type": "static",
              "value": "USD"
            }
          },
          "transactionId": {
            "id": "MapParser",
            "type": "data",
            "value": "TRANSACTION_ID"
          },
          "transactionIp": {
            "id": "MapParser",
            "type": "data",
            "value": "TRANSACTION_IP"
          },
          "transactionTimestamp": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if(data['TRANSACTION_DATE'] && data['TRANSACTION_DATE'].length === 8) { var date = data['TRANSACTION_DATE']; return new Date(date.substring(0, 4), parseInt(date.substring(4, 6)) - 1, date.substring(6, 8)).getTime().toString(); } return ''; }",
            "dataType": "number"
          },
          "defaultTimestamp": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if(data['DEFAULT_DATE'] && data['DEFAULT_DATE'].length === 8) { var date = data['DEFAULT_DATE']; return new Date(date.substring(0, 4), parseInt(date.substring(4, 6)) - 1, date.substring(6, 8)).getTime().toString(); } return ''; }",
            "dataType": "number"
          },
          "accountOpenTimestamp": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if(data['ACCOUNT_OPEN_DATE'] && data['ACCOUNT_OPEN_DATE'].length === 8) { var date = data['ACCOUNT_OPEN_DATE']; return new Date(date.substring(0, 4), parseInt(date.substring(4, 6)) - 1, date.substring(6, 8)).getTime().toString(); } return ''; }",
            "dataType": "number"
          },
          "clientFields": [
            {
              "key": {
                "id": "MapParser",
                "type": "static",
                "value": "PORTFOLIO"
              },
              "value": {
                "id": "MapParser",
                "type": "data",
                "value": "PORTFOLIO"
              }
            },
            {
              "key": {
                "id": "MapParser",
                "type": "static",
                "value": "ACCOUNT_ID"
              },
              "value": {
                "id": "MapParser",
                "type": "data",
                "value": "ACCOUNT_ID"
              }
            }
          ],
          "sendCbrNegativeNotice": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['CBR_NEGATIVE_NOTICE_FLAG']) { return data['CBR_NEGATIVE_NOTICE_FLAG'] === 'Y' || data['CBR_NEGATIVE_NOTICE_FLAG'] === 'true'; } return false; }",
            "dataType": "boolean"
          },
          "hasSentCbrNegativeNotice": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['HAS_SENT_CBR_FLAG']) { return data['HAS_SENT_CBR_FLAG'] === 'Y' || data['HAS_SENT_CBR_FLAG'] === 'true'; } return false; }",
            "dataType": "boolean"
          },
          "postChargeOffInformation": {
            "chargeOffTimestamp": {
              "id": "MapParser",
              "type": "expression",
              "value": "function process(data) { if(data['CHARGE_OFF_DATE'] && data['CHARGE_OFF_DATE'].length === 8) { var date = data['CHARGE_OFF_DATE']; return new Date(date.substring(0, 4), parseInt(date.substring(4, 6)) - 1, date.substring(6, 8)).getTime().toString(); } return ''; }",
              "dataType": "number"
            },
            "balanceAtChargeOff": {
              "amount": {
                "id": "MapParser",
                "type": "data",
                "value": "BALANCE_AT_CHARGE_OFF",
                "dataType": "amount"
              },
              "currency": {
                "id": "MapParser",
                "type": "static",
                "value": "USD"
              }
            },
            "feesAccruedSinceChargeOff": {
              "amount": {
                "id": "MapParser",
                "type": "data",
                "value": "FEES_ACCRUED_SINCE_CHARGE_OFF",
                "dataType": "amount"
              },
              "currency": {
                "id": "MapParser",
                "type": "static",
                "value": "USD"
              }
            },
            "interestAccruedSinceChargeOff": {
              "amount": {
                "id": "MapParser",
                "type": "data",
                "value": "INTEREST_ACCRUED_SINCE_CHARGE_OFF",
                "dataType": "amount"
              },
              "currency": {
                "id": "MapParser",
                "type": "static",
                "value": "USD"
              }
            },
            "totalPaidSinceChargeOff": {
              "amount": {
                "id": "MapParser",
                "type": "data",
                "value": "TOTAL_PAID_SINCE_CHARGE_OFF",
                "dataType": "amount"
              },
              "currency": {
                "id": "MapParser",
                "type": "static",
                "value": "USD"
              }
            }
          },
          "itemizationTimestamp": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if(data['ITEMIZATION_DATE'] && data['ITEMIZATION_DATE'].length === 8) { var date = data['ITEMIZATION_DATE']; return new Date(date.substring(0, 4), parseInt(date.substring(4, 6)) - 1, date.substring(6, 8)).getTime().toString(); } return ''; }",
            "dataType": "number"
          },
          "initialPaymentsAndCredits": {
            "amount": {
              "id": "MapParser",
              "type": "data",
              "value": "INITIAL_PAYMENTS_AND_CREDITS",
              "dataType": "amount"
            },
            "currency": {
              "id": "MapParser",
              "type": "static",
              "value": "USD"
            }
          },
          "isInitialPrincipalBeforePaymentsAndCredits": {
            "id": "MapParser",
            "type": "expression",
            "value": "function process(data) { if (data['IS_INITIAL_PRINCIPAL_BEFORE_PAYMENTS']) { return data['IS_INITIAL_PRINCIPAL_BEFORE_PAYMENTS'] === 'Y' || data['IS_INITIAL_PRINCIPAL_BEFORE_PAYMENTS'] === 'true'; } return false; }",
            "dataType": "boolean"
          },
          "creditorName": {
            "id": "MapParser",
            "type": "data",
            "value": "CREDITOR_NAME"
          },
          "originalCreditorName": {
            "id": "MapParser",
            "type": "data",
            "value": "ORIGINAL_CREDITOR_NAME"
          }
        }
      ]
    }
  ]
}
